### 分层的好处

* 将大的问题分解为了小的问题，便于解决
* 便于采用新的技术，容易进行替换
* 结构清晰，便于标识网络组件，以及描述其相互关系
* 结构化：模块化更容易维护和系统升级

协议的目的：向上层提供更好的服务

协议的实现：借助于下层提供的服务才能实现，通过层间接口进行访问

往上一层都包含了下一层的服务，并且会提供新的服务

服务访问点：下层服务用于区分不同上层用户的信息

服务：服务提供者在层间界面上的SAP区别用户进行服务

原语：提供服务的形式，如套接字的各个函数

SAP：服务用户可以通过SAP说明需要说明服务

服务的类型：

* 面向连接的服务：应用进程通信之前需要握手
* 无连接的服务

服务和协议之间的关系

* 协议需要通过下层的服务实现；
* 协议的目的是为了能向上层提供更好的服务；

数据单元

* 上层要传输的数据是SDU
* SDU加上控制信息IDU形成本层的PDU(协议数据单元)，穿过层间接口

分层的害处：每个子系统进行通信会造成效率低

![1674826917054](image/协议层次和服务模型/1674826917054.png)

补充：

* 链路层传输的PDU是帧，链路层的作用是将物理层的各个bit进行打包，然后区分帧头帧尾，P2P
* 网络层是在链路层的基础之上提供端到端的服务，E2E；两个基本功能，分别是路由和转发
* 传输层的作用是区分应用进程和将网络层不可靠的服务转变成可靠的
* 链路层和物理层通常作用在同一张网卡上，二者是配套的，都封装在网卡当中

在每个路由器的时候都要进行三层的解封装和再封装

各层次的协议数据单元

![1674827600445](image/协议层次和服务模型/1674827600445.png)
